{"version":3,"sources":["scripts/app-d34a05abd9.js"],"names":["angular","module","groupService","$resource","api","this","Group","group","$inject","service","userService","localStorageService","signup","name","email","password","callback","me","get","toolbar","ToolbarController","$log","$mdSidenav","ctrl","toggleSidenav","console","log","toggle","then","debug","closeSidenav","close","directive","restrict","templateUrl","controller","controllerAs","bindToController","sidenav","SidenavController","$state","authentication","logout","go","state","scope","loadingIndicator","loadingIndicatorController","$rootScope","$on","event","toState","toParams","fromState","fromParams","show","githubContributor","$http","getContributors","limit","getContributorsComplete","response","data","getContributorsFailed","error","toJson","apiHost","factory","authorization","authorized","clear","targetState","stateChange","preventDefault","processSavedCredentials","getToken","getKey","authenticate","requestToken","post","success","status","headers","config","setToken","token","setKey","user","Error","remove","set","key","setHeaders","defaults","common","x-access-token","x-key","MainController","LoginController","login","undefined","GroupsShowController","$stateParams","participants_to_string","participants","names","_","map","p","first","last","pop","join","GroupsOverviewController","groups","find","_id","id","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","url","anonymous","resolve","$title","query","$promise","otherwise","constant","public","private","moment","$provide","$logProvider","$mdThemingProvider","toastrConfig","localStorageServiceProvider","theme","primaryPalette","accentPalette","decorator","$delegate","exception","cause","alert","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","setPrefix","setStorageCookie","$templateCache","put"],"mappings":"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","file":"scripts/app-d34a05abd9.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular', ['ngResource', 'ui.router', 'ui.router.title', 'ngMaterial', 'toastr', 'LocalStorageModule']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('geldzakenAngular')\n      .service('groupService', groupService);\n\n  /** @ngInject */\n  function groupService($resource, api) {\n    this.Group = $resource(api.private + '/groups/:group', {group: \"@group\"});\n\n    return {\n      Group: this.Group,\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('geldzakenAngular')\n      .service('userService', userService);\n\n  /** @ngInject */\n  function userService(localStorageService) {\n    var service = this;\n\n    service.signup = function (name, email, password, callback) {\n\n    };\n\n    service.me = function () {\n      return localStorageService.get('me');\n    };\n\n    return service;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .directive('toolbar', toolbar);\n\n  function toolbar () {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/toolbar/toolbar.html',\n      controller: ToolbarController,\n      controllerAs: 'ctrl',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function ToolbarController($log, $mdSidenav, userService) {\n      var ctrl = this;\n      ctrl.toggleSidenav = function () {\n        console.log('CLICK');\n        $mdSidenav('left')\n        .toggle()\n        .then(function () {\n          $log.debug(\"toggle LEFT is done\");\n        });\n      };\n\n      ctrl.closeSidenav = function () {\n        $mdSidenav('left').close()\n        .then(function () {\n          $log.debug(\"close LEFT is done\");\n        });\n      };\n    };\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .directive('sidenav', sidenav);\n\n  function sidenav () {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/sidenav/sidenav.html',\n      scope: {},\n      controller: SidenavController,\n      controllerAs: 'ctrl',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function SidenavController($state, $mdSidenav, authentication) {\n      var ctrl = this;\n\n      ctrl.logout = function () {\n        authentication.logout();\n      };\n\n      ctrl.go = function (state) {\n        $mdSidenav('left').close();\n        $state.go(state);\n      };\n\n    };\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .directive('loadingIndicator', loadingIndicator);\n\n  function loadingIndicator () {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/loadingIndicator/loadingIndicator.html',\n      scope: {},\n      controller: loadingIndicatorController,\n      controllerAs: 'ctrl',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function loadingIndicatorController($rootScope) {\n      var ctrl = this;\n\n      $rootScope.$on('$stateChangeStart', \n      function(event, toState, toParams, fromState, fromParams){ \n        console.log('SHOW LOADER');\n        ctrl.show = true;\n      });\n\n      $rootScope.$on('$stateChangeSuccess', \n      function(event, toState, toParams, fromState, fromParams){ \n        console.log('HIDE LOADER');\n        ctrl.show = false;\n      });\n    };\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .factory('githubContributor', githubContributor);\n\n  /** @ngInject */\n  function githubContributor($log, $http) {\n    var apiHost = 'https://api.github.com/repos/Swiip/generator-gulp-angular';\n\n    var service = {\n      apiHost: apiHost,\n      getContributors: getContributors\n    };\n\n    return service;\n\n    function getContributors(limit) {\n      if (!limit) {\n        limit = 30;\n      }\n\n      return $http.get(apiHost + '/contributors?per_page=' + limit)\n        .then(getContributorsComplete)\n        .catch(getContributorsFailed);\n\n      function getContributorsComplete(response) {\n        return response.data;\n      }\n\n      function getContributorsFailed(error) {\n        $log.error('XHR Failed for getContributors.\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('geldzakenAngular')\n      .service('authorization', authorization);\n\n  /** @ngInject */\n  function authorization($state) {\n    /*\n    Regelt de authorization van pagina's. Dit betekent dat hier bijgehouden\n    wordt of de gebruiker pagina's mag bekijken.\n    */\n\n    var service = this;\n\n    service.authorized = false;\n\n    service.clear = function() {\n      this.authorized = false;\n    };\n\n    service.go = function(targetState) {\n      this.authorized = true;\n      $state.go(targetState);\n    };\n\n    service.stateChange = function(event, toState, toParams, fromState, fromParams) {\n      if (!service.authorized && toState.authorized) {\n        // Zorg ervoor dat de controller etc niet geinvoked worden\n        event.preventDefault();\n        console.log('$stateChangeStart: unauthorized');\n        $state.go('login');\n      }\n    };\n\n    return service;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('geldzakenAngular')\n      .service('authentication', authentication);\n\n  /** @ngInject */\n  function authentication($state, $http, localStorageService, authorization, api) {\n    /*\n    Regelt de authentication van gebruikers. Dit betekent dat hier bijgehouden\n    en gecheckt wordt of de gebruiker echt is wie hij zegt dat hij is.\n    */\n\n    var service = this;\n\n    // Wordt geroepen bij de first-load om te checken of er al een gebruiker ingelogd is.\n    service.processSavedCredentials = function () {\n      if (getToken() && getKey()) {\n        console.log('Authentication found credentials and is going to make a request.');\n        authenticate();\n      } else {\n        console.log('Authentication did not find any credentials. Login is required.');\n      }\n    };\n\n    service.requestToken = function (email, password, callback) {\n      // Stuur het emailadres en wachtwoord naar /login\n      $http.post(api.public + '/login', {\n        email: email,\n        password: password\n      })\n      .success(function (data, status, headers, config) {\n        // Sla de token en het emailadres op\n        setToken(data.token);\n        setKey(data.user.email);\n        authenticate();\n      })\n      .error(function (data, status, headers, config) {\n        throw new Error(\"Error \"+status+\": \"+data);\n      });\n    };\n\n    service.logout = function () {\n      localStorageService.remove('x-access-token', 'x-key', 'me');\n      authorization.clear();\n      console.log('Uitgelogd.');\n      $state.go('login');\n    };\n\n    /* Private */\n\n    var getToken = function () {\n      return localStorageService.get('x-access-token');\n    };\n\n    var getKey = function () {\n      return localStorageService.get('x-key');\n    };\n\n    var setToken = function (token) {\n      localStorageService.set('x-access-token', token);\n    };\n\n    var setKey = function (key) {\n      localStorageService.set('x-key', key);\n    };\n\n    var setHeaders = function () {\n      $http.defaults.headers.common = {\n        'x-access-token': getToken(),\n        'x-key'         : getKey()\n      };\n    };\n\n    var authenticate = function () {\n      // Stel ze in als headers\n      setHeaders();\n      // Maak een request naar de private API\n      $http.get(api.private + '/users/' + getKey())\n      .success(function (data, status, headers, config) {\n        localStorageService.set('me', data);\n        console.log('Request succeeded. Saving data and redirecting to groups.');\n        authorization.go('groups');\n      })\n      .error(function (data, status, headers, config) {\n        service.logout();\n        throw new Error(\"Error \"+status+\": \"+data);\n      });\n   };\n\n    return service;\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(authorization, localStorageService) {\n    var vm = this;\n\n    function clearAuth() {\n      authorization.clear();\n      $state.go('home');\n    }\n\n    function login() {\n      authorization.go('private');\n    }\n\n    this.data = localStorageService.get('me');\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .controller('LoginController', LoginController);\n\n  /** @ngInject */\n  function LoginController(authorization, authentication) {\n    var ctrl = this;\n\n    ctrl.user = {email: '', password: ''}\n\n    ctrl.login = function () {\n      if (ctrl.user == undefined || ctrl.user.email == undefined || ctrl.user.password == undefined) {\n        throw new Error(\"You must enter a valid e-mailadress and password.\");\n      } else {\n        authentication.requestToken(ctrl.user.email, ctrl.user.password);\n      }\n    };\n\n    console.log('LoginController loaded. Let\\'s fire authentication.init()');\n    authentication.processSavedCredentials();\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .controller('GroupsShowController', GroupsShowController);\n\n  /** @ngInject */\n  function GroupsShowController($stateParams, groupService, userService, group) {\n    var ctrl = this;\n\n    ctrl.group = group;\n\n    ctrl.participants_to_string = function (participants) {\n      var names = _.map(participants, function (p) {\n        return p.name.first + ' ' + p.name.last\n      });\n      var last = names.pop();\n      return names.join(', ') + ' and ' + last;\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .controller('GroupsOverviewController', GroupsOverviewController);\n\n  /** @ngInject */\n  function GroupsOverviewController($state, groups, userService) {\n    var ctrl = this;\n\n    ctrl.groups = groups;\n\n    ctrl.me = function (group) {\n      // Haal de gegevens op van de gebruiker.\n      var me = userService.me();\n      // Zoek in de deelnemers degene wiens id matcht met de gebruiker.\n      return _.find(group.participants, function (p) {\n        return p.user == me._id\n      });\n    };\n\n    ctrl.show = function (group) {\n      $state.go('group', { id: group._id });\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($rootScope, $log, $state, authorization) {\n    $rootScope.$on('$stateChangeStart', authorization.stateChange);\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n    .state('login', {\n      url: '/login',\n      templateUrl: 'app/login/login.html',\n      controller: 'LoginController as ctrl',\n      anonymous: true,\n      resolve: {\n        $title: function() {\n          return 'Login';\n        }\n      }\n    })\n    .state('main', {\n      url: '/',\n      templateUrl: 'app/main/main.html',\n      controller: 'MainController as main',\n      authorized: true,\n      resolve: {\n        $title: function() {\n          return 'Dashboard';\n        }\n      }\n    })\n    .state('groups', {\n      url: '/groups',\n      templateUrl: 'app/groups/overview.html',\n      controller: 'GroupsOverviewController as ctrl',\n      authorized: true,\n      resolve: {\n        groups: function (groupService) {\n          return groupService.Group.query().$promise;\n        },\n        $title: function () {\n          return 'Groups';\n        }\n      }\n    })\n    .state('group', {\n      url: '/groups/:id',\n      templateUrl: 'app/groups/show.html',\n      controller: 'GroupsShowController as ctrl',\n      authorized: true,\n      resolve: {\n        group: function ($stateParams, groupService) {\n          return groupService.Group.get({group: $stateParams.id}).$promise;\n        },\n        $title: function (group) {\n          return group.name;\n        }\n      }\n    });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .constant('api', {\n    \tpublic: 'http://192.168.2.3:8080',\n    \tprivate: 'http://192.168.2.3:8080/secret'\n    })\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('geldzakenAngular')\n    .config(config);\n\n  /** @ngInject */\n  function config($provide, $logProvider, $mdThemingProvider, toastrConfig, localStorageServiceProvider) {\n    $mdThemingProvider.theme('default')\n    .primaryPalette('indigo')\n    .accentPalette('grey');\n\n    $provide.decorator(\"$exceptionHandler\", function($delegate) {\n      return function (exception, cause) {\n        alert(exception);\n        //$delegate(exception, cause);\n      };\n    });\n\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    // Set prefix for localStorage\n    localStorageServiceProvider.setPrefix('geldzaken');\n    localStorageServiceProvider.setStorageCookie(100, '/');\n  }\n\n})();\n\nangular.module(\"geldzakenAngular\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/groups/overview.html\",\"<md-list><md-list-item ng-click=\\\"ctrl.show(group)\\\" class=\\\"md-2-line\\\" ng-repeat=\\\"group in ctrl.groups\\\"><div class=\\\"md-list-item-text\\\"><h3>{{ group.name }}</h3><p>My balance: &euro; {{ ctrl.me(group).balance }}</p></div></md-list-item></md-list>\");\n$templateCache.put(\"app/groups/show.html\",\"<md-tabs md-dynamic-height=\\\"\\\" md-border-bottom=\\\"\\\" class=\\\"md-primary\\\"><md-tab label=\\\"payments\\\"><md-content class=\\\"md-padding\\\"><md-list><md-list-item ng-click=\\\"\\\" class=\\\"md-2-line\\\" ng-repeat=\\\"payment in ctrl.group.payments\\\"><div class=\\\"md-list-item-text\\\"><h3>&euro; {{ payment.amount }} payed by {{ payment.payer.name.first }}</h3><p>Participants: {{ ctrl.participants_to_string(payment.participants) }}</p></div></md-list-item></md-list></md-content></md-tab><md-tab label=\\\"participants\\\"><md-content class=\\\"md-padding\\\"><md-list><md-list-item ng-click=\\\"\\\" class=\\\"md-2-line\\\" ng-repeat=\\\"participant in ctrl.group.participants\\\"><div class=\\\"md-list-item-text\\\"><h3>{{ participant.user.name.first }} {{ participant.user.name.last }}</h3><h4>{{ participant.user._id }}</h4><p>Balance: &euro; {{ participant.balance }}</p></div></md-list-item></md-list></md-content></md-tab></md-tabs>\");\n$templateCache.put(\"app/main/main.html\",\"{{main.data}}<md-button class=\\\"md-raised\\\" ng-click=\\\"main.clearAuth()\\\">Clear Auth</md-button>\");\n$templateCache.put(\"app/login/login.html\",\"<div layout-gt-sm=\\\"column\\\" layout-padding=\\\"\\\"><md-content class=\\\"autoScroll\\\"><md-input-container class=\\\"md-block\\\"><label>E-mailadres</label> <input type=\\\"email\\\" ng-model=\\\"ctrl.user.email\\\"></md-input-container><md-input-container class=\\\"md-block\\\"><label>Wachtwoord</label> <input ng-model=\\\"ctrl.user.password\\\" type=\\\"password\\\"></md-input-container><div class=\\\"bottom-sheet-demo inset\\\" layout=\\\"column\\\"><md-button type=\\\"submit\\\" class=\\\"md-primary md-raised\\\" ng-click=\\\"ctrl.login()\\\">Login</md-button><md-button>I don\\'t have an account</md-button></div></md-content></div>\");\n$templateCache.put(\"app/components/sidenav/sidenav.html\",\"<md-content><md-menu-item><md-button ng-click=\\\"ctrl.go(\\'main\\')\\\"><md-icon class=\\\"material-icons\\\" md-menu-align-target=\\\"\\\">dashboard</md-icon>Dashboard</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"ctrl.go(\\'groups\\')\\\"><md-icon class=\\\"material-icons\\\" md-menu-align-target=\\\"\\\">group</md-icon>Groups</md-button></md-menu-item><md-menu-item><md-button ng-click=\\\"ctrl.logout()\\\"><md-icon class=\\\"material-icons\\\" md-menu-align-target=\\\"\\\">exit_to_app</md-icon>Logout</md-button></md-menu-item></md-content>\");\n$templateCache.put(\"app/components/toolbar/toolbar.html\",\"<md-toolbar class=\\\"md-primary\\\"><div class=\\\"md-toolbar-tools\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"ctrl.toggleSidenav()\\\" hide-gt-md=\\\"\\\" aria-label=\\\"Settings\\\"><md-icon class=\\\"material-icons\\\">menu</md-icon></md-button><h2><span ng-bind=\\\"$title || \\'Geldzaken\\'\\\"></span></h2><span flex=\\\"\\\"></span><loading-indicator></loading-indicator></div></md-toolbar>\");\n$templateCache.put(\"app/components/loadingIndicator/loadingIndicator.html\",\"<span ng-if=\\\"ctrl.show\\\"><md-progress-circular md-mode=\\\"indeterminate\\\" class=\\\"md-accent\\\"></md-progress-circular></span>\");}]);"],"sourceRoot":"/source/"}