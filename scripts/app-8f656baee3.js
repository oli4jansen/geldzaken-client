!function(){"use strict";angular.module("geldzakenAngular",["ngResource","ui.router","ui.router.title","ngMaterial","ngMessages","LocalStorageModule","angularMoment","localize","ngLodash"])}(),function(){"use strict";function e(e,t,n,a){var o=this;return o.signup=function(t,a){e.post(n["public"]+"/signup",{email:t.email,password:t.password,name:t.name,bankAccount:t.bankAccount}).success(a).error(function(e){throw new Error(e)})},o.update=function(t,i){e.put(n["private"]+"/users/"+o.me().email,t).success(function(e){a.set("me",e),i()}).error(function(){throw new Error("Can't save settings!")})},o["delete"]=function(a){e["delete"](n["private"]+"/users/"+o.me().email).success(function(){t.logout()}).error(function(e){a(e)})},o.forgotPassword=function(t,a){e.put(n["public"]+"/users/"+t+"/password").success(function(){a()}).error(function(e){throw new Error(e)})},o.setNewPassword=function(t,a,o,i){e.post(n["public"]+"/users/"+t+"/password",{token:o,password:a}).success(function(e){i()}).error(function(e){throw new Error(e)})},o.me=function(){return a.get("me")},o}e.$inject=["$http","authentication","api","localStorageService"],angular.module("geldzakenAngular").service("userService",e)}(),function(){"use strict";function e(e,t){return this.Payment=e(t["private"]+"/groups/:group/payments/:id",{group:"@group",id:"@id"},{update:{method:"PUT"}}),{Payment:this.Payment}}e.$inject=["$resource","api"],angular.module("geldzakenAngular").service("paymentService",e)}(),function(){"use strict";function e(e,t,n){return this.Member=e(n["private"]+"/groups/:group/members",{group:"@group"}),this.confirm=function(e,a){t.put(n["private"]+"/groups/"+e+"/members").success(function(){a()}).error(function(){throw new Error("Can't confirm membership.")})},{Member:this.Member,confirm:this.confirm}}e.$inject=["$resource","$http","api"],angular.module("geldzakenAngular").service("memberService",e)}(),function(){"use strict";function e(e,t){return this.Group=e(t["private"]+"/groups/:group",{group:"@id"},{update:{method:"PUT"}}),{Group:this.Group}}e.$inject=["$resource","api"],angular.module("geldzakenAngular").service("groupService",e)}(),function(){"use strict";function e(e,a,o,i,r,l,s){var m=this;m.group=l,m.showCreatePayment=function(n){var i=a("sm")||a("xs");e.show({controller:t,controllerAs:"vm",templateUrl:"app/group/payments/createPayment.html",targetEvent:n,clickOutsideToClose:!0,fullscreen:i,locals:{group:m.group}}).then(function(t){r.Payment.save({group:m.group.id},t,function(){e.show(e.alert().clickOutsideToClose(!0).title(s("Payment was added!")).ariaLabel("Payment Confirmation").ok(s("Okay!"))),o.reload()},function(e){throw new Error(e)})})},m.showUpdatePayment=function(t,i){var l=a("sm")||a("xs");e.show({controller:n,controllerAs:"vm",templateUrl:"app/group/payments/updatePayment.html",targetEvent:t,clickOutsideToClose:!0,fullscreen:l,locals:{group:m.group,payment:i}}).then(function(e){r.Payment.update({group:m.group.id,id:i.id},e,function(){o.reload()},function(e){throw new Error(e)})})},m.openMenu=function(e,t){e(t)},m.sorting="-createdAt",m.participants_to_string=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a.paymentParticipation.weight;o>1?t.push(a.name+" ("+o+"x)"):t.push(a.name)}if(1==t.length)return t[0];var i=t.pop();return t.join(", ")+" and "+i},m.go=function(e){o.go("^."+e,i)}}function t(e,t,n,a,o,i){var r=this;r.group=a,r.payment={participants:[],payedBy:o.me().email},r.participants=function(){var e=i.map(a.members,function(e){return{email:e.email,name:e.name,weight:0}});return e}(),r.increaseAllParticipants=function(){r.participants.forEach(r.increaseParticipant)},r.resetAllParticipants=function(){r.participants.forEach(function(e){e.weight=0})},r.increaseParticipant=function(e){e.weight++},r.decreaseParticipant=function(e){e.weight>0&&e.weight--},r.cancel=function(){e.cancel()},r.create=function(){r.participants.forEach(function(e){e.weight>0&&r.payment.participants.push({email:e.email,weight:e.weight})}),e.hide(r.payment)}}function n(e,t,n,a,o,i,r){var l=this;l.group=a,l.payment={description:o.description,amount:o.amount,payedBy:o.payedBy.email},l.participants=function(){var e=r.map(a.members,function(e){var t=r.find(o.participants,function(t){return t.email==e.email});return{email:e.email,name:e.name,weight:r.get(t,"paymentParticipation.weight",0)}});return e}(),l.increaseAllParticipants=function(){l.participants.forEach(l.increaseParticipant)},l.resetAllParticipants=function(){l.participants.forEach(function(e){e.weight=0})},l.increaseParticipant=function(e){e.weight++},l.decreaseParticipant=function(e){e.weight>0&&e.weight--},l.cancel=function(){e.cancel()},l.save=function(){l.payment.participants=[],l.participants.forEach(function(e){e.weight>0&&l.payment.participants.push({email:e.email,weight:e.weight})}),e.hide(l.payment)}}e.$inject=["$mdDialog","$mdMedia","$state","$stateParams","paymentService","group","localize"],t.$inject=["$mdDialog","$timeout","$q","group","userService","lodash"],n.$inject=["$mdDialog","$timeout","$q","group","payment","userService","lodash"],angular.module("geldzakenAngular").controller("PaymentsController",e).controller("CreatePaymentController",t).controller("UpdatePaymentController",n)}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){var s=this;s.group=r,s.settled=!1,s.settle=function(o){var i=n.confirm().title(l("Are you sure?")).textContent(l("Settling a group cannot be reverted.")).ariaLabel(l("Confirm")).targetEvent(o).ok(l("Settle")).cancel(l("Cancel"));n.show(i).then(function(){s.settled=!0,t.get(a["private"]+"/groups/"+r.id+"/settle").success(function(){s.settled=!1,n.show(n.alert().title(l("Group was settled!")).ariaLabel(l("Confirmation")).ok(l("Okay!"))),e.reload()}).error(function(e){n.show(n.alert().title(l("Could not settle.")).textContent(l(e)).ariaLabel("Alert").ok(l("Okay!")))})})},s.save=function(){s.group.$update(function(){n.show(n.alert().clickOutsideToClose(!0).title(l("Settings were saved!")).ariaLabel("Setting Confirmation").ok(l("Okay!"))),e.reload()},function(e){throw new Error(e.message)})},s.leave=function(){i.Member["delete"]({group:r.id},function(){n.show(n.alert().clickOutsideToClose(!0).title(l("Left group!")).ariaLabel("Left Group Confirmation").ok(l("Okay!"))),e.go("private.main")},function(e){n.show(n.alert().clickOutsideToClose(!0).title(l("Could not leave group.")).textContent(e.data).ariaLabel("Can't leave group").ok(l("Okay!")))})}}e.$inject=["$state","$http","$mdDialog","api","groupService","memberService","group","localize"],angular.module("geldzakenAngular").controller("MoreController",e)}(),function(){"use strict";function e(e,n,a,o,i,r,l,s,m,c){var d=this;d.group=s,d.showInviteMember=function(n){e.show({controller:t,controllerAs:"vm",templateUrl:"app/group/members/inviteMember.html",clickOutsideToClose:!0}).then(function(t){l.Member.save({group:s.id},t,function(){e.show(e.alert().clickOutsideToClose(!0).title(c("Member was added!")).textContent(c("But won't be visible until he/she confirms.")).ariaLabel("Invitation Confirmation").ok(c("Okay!")))},function(t){e.show(e.alert().clickOutsideToClose(!0).title(t.data).ariaLabel("Invitation Error").ok(c("Okay!")))})})};var u=m.calculate(s.members,s.payments);d.group.members.forEach(function(e){e.balance=u[e.email]}),d.openMenu=function(e,t){e(t)},d.sorting="-balance"}function t(e){var t=this;t.email="",t.cancel=function(){e.cancel()},t.invite=function(){e.hide({email:t.email})}}e.$inject=["$mdDialog","$mdMedia","$state","$stateParams","groupService","userService","memberService","group","balanceCalculator","localize"],t.$inject=["$mdDialog"],angular.module("geldzakenAngular").controller("MembersController",e).controller("InviteMemberController",t)}(),function(){"use strict";function e(){function e(e,t){var n=this;n.toggleSidenav=function(){e("sidenav").toggle()},n.authorized=function(){return t.authorized}}e.$inject=["$mdSidenav","authorization"];var t={restrict:"E",templateUrl:"app/components/toolbar/toolbar.html",controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("geldzakenAngular").directive("toolbar",e)}(),function(){"use strict";function e(){function e(e,t){var n=this,a=function(){n.show=!0},o=function(){n.show=!1},i=t.$on("$stateChangeStart",a),r=t.$on("$stateChangeSuccess",o),l=t.$on("http:request",a),s=t.$on("http:response",o),m=t.$on("http:responseError",o),c=[i,r,l,s,m];e.$on("$destroy",function(){c.forEach(function(e){e()})})}e.$inject=["$scope","$rootScope"];var t={restrict:"E",templateUrl:"app/components/loadingIndicator/loadingIndicator.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("geldzakenAngular").directive("loadingIndicator",e)}(),function(){"use strict";function e(e,t){return{request:function(t){return e.$broadcast("http:request"),t},response:function(t){return e.$broadcast("http:response"),t},responseError:function(n){return e.$broadcast("http:responseError",n),t.reject(n)}}}e.$inject=["$rootScope","$q"],angular.module("geldzakenAngular").factory("httpInterceptor",e)}(),function(){"use strict";function e(e,t){function n(n){function o(e){return e.data}function i(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return n||(n=30),t.get(a+"/contributors?per_page="+n).then(o)["catch"](i)}var a="https://api.github.com/repos/Swiip/generator-gulp-angular",o={apiHost:a,getContributors:n};return o}e.$inject=["$log","$http"],angular.module("geldzakenAngular").factory("githubContributor",e)}(),function(){"use strict";function e(e,t){var n=this;return n.handle=function(n){e.show(e.alert().clickOutsideToClose(!0).title(t(n.message)).ariaLabel("Error").ok(t("Okay!")))},n}e.$inject=["$mdDialog","localize"],angular.module("geldzakenAngular").service("errorHandler",e)}(),function(){"use strict";function e(e){var t=this;return t.calculate=function(t,n){var a={};e.forEach(t,function(e){a[e.email]=0});for(var o=0;o<n.length;o++){for(var i=n[o],r=e.sum(e.map(i.participants),function(e){return e.paymentParticipation.weight}),l=i.amount/r,s=0;s<i.participants.length;s++){var m=i.participants[s],c=m.paymentParticipation.weight;a[m.email]-=l*c}a[i.payedBy.email]+=i.amount}return e.forEach(t,function(e){a[e.email]=Math.round(100*a[e.email])/100}),a},t}e.$inject=["lodash"],angular.module("geldzakenAngular").service("balanceCalculator",e)}(),function(){"use strict";function e(e,t,n){var a=this;return a.authorized=!1,a.clear=function(){a.authorized=!1},a.go=function(e,n){n=n||{},a.authorized=!0,t.go(e,n)},a.listenForStateChange=function(){a.listener=e.$on("$stateChangeStart",a.stateChange)},a.stateChange=function(e,o,i){!a.authorized&&o.authorized&&(e.preventDefault(),n.set("redirectTo",{state:o.name,params:i}),t.go("public.entry"))},a}e.$inject=["$rootScope","$state","localStorageService"],angular.module("geldzakenAngular").service("authorization",e)}(),function(){"use strict";function e(e,t,n,a,o){var i=this;i.processSavedCredentials=function(e){r()&&l()?(e(!0),d()):e(!1)},i.requestToken=function(e,n){t.post(o["public"]+"/login",{email:e,password:n}).success(function(t){s(t),m(e),d()}).error(function(e){throw new Error(e)})},i.logout=function(){n.remove("x-access-token","x-key","me","redirectTo"),a.clear(),e.go("public.login")};var r=function(){return n.get("x-access-token")},l=function(){return n.get("x-key")},s=function(e){n.set("x-access-token",e)},m=function(e){n.set("x-key",e)},c=function(){t.defaults.headers.common={"x-access-token":r(),"x-key":l()}},d=function(){c(),t.get(o["private"]+"/users/"+l()).success(function(e){n.set("me",e);var t=n.get("redirectTo");null!==t?a.go(t.state,t.params):a.go("private.main")}).error(function(e){throw i.logout(),new Error(e)})};return i}e.$inject=["$state","$http","localStorageService","authorization","api"],angular.module("geldzakenAngular").service("authentication",e)}(),function(){"use strict";function e(e,t,n,a){var o=this;o.user={email:"",password:"",name:"",bankAccount:""},o.signup=function(){n.signup(o.user,function(){t.show(t.alert().clickOutsideToClose(!0).title(a("Signed up!")).textContent(a("You can now log in.")).ariaLabel("Signup Confirmation").ok(a("Okay!"))),e.go("public.login",{email:o.user.email})})}}e.$inject=["$state","$mdDialog","userService","localize"],angular.module("geldzakenAngular").controller("SignupController",e)}(),function(){"use strict";function e(e,t,n,a){var o=this,i=n.me();o.settings={email:i.email,name:i.name,bankAccount:i.bankAccount},o.newPassword="",o.save=function(){""!==o.newPassword&&(o.settings.password=o.newPassword),n.update(o.settings,function(){t.show(t.alert().clickOutsideToClose(!0).title(a("Settings were saved!")).ariaLabel("Setting Confirmation").ok(a("Okay!")))})},o["delete"]=function(){n["delete"](function(e){throw new Error(e)})}}e.$inject=["$state","$mdDialog","userService","localize"],angular.module("geldzakenAngular").controller("SettingsController",e)}(),function(){"use strict";function e(){}angular.module("geldzakenAngular").controller("PublicController",e)}(),function(){"use strict";function e(e,t,n,a){var o=n.$on("$stateChangeStart",function(){a("sidenav").close()});e.$on("$destroy",function(){o()})}e.$inject=["$scope","$state","$rootScope","$mdSidenav"],angular.module("geldzakenAngular").controller("PrivateController",e)}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){var s=this;s.groups=r,s.inactiveGroups=[],s.sorting="name",s.me=o.me();for(var m=0;m<s.groups.length;m++)s.groups[m].membership.active||s.inactiveGroups.push(s.groups[m]);for(var c=0;c<s.groups.length;c++){var d=a.calculate(s.groups[c].members,s.groups[c].payments);s.groups[c].balance=d[s.me.email]}s.show=function(t){e.go("private.group.payments",{id:t.id})},s.openMenu=function(e,t){e(t)},s.confirm=function(e){i.confirm(e.id,function(){s.show(e)})},s.reject=function(n){i.Member["delete"]({group:n.id},function(){e.reload()},function(e){t.show(t.alert().clickOutsideToClose(!0).title(l("Could not leave group.")).textContent(e.data).ariaLabel("Can't leave group").ok(l("Okay!")))})}}e.$inject=["$state","$mdDialog","$mdMedia","balanceCalculator","userService","memberService","groups","localize"],angular.module("geldzakenAngular").controller("MainController",e)}(),function(){"use strict";function e(e){e.logout()}e.$inject=["authentication"],angular.module("geldzakenAngular").controller("LogoutController",e)}(),function(){"use strict";function e(e,t){var n=this;n.user={email:e.email,password:""},n.login=function(){t.requestToken(n.user.email,n.user.password)},t.processSavedCredentials(function(){})}e.$inject=["$stateParams","authentication"],angular.module("geldzakenAngular").controller("LoginController",e)}(),function(){"use strict";function e(e,t,n,a,o,i,r,l){var s=this;s.group=l,s.go=function(e){a.go("private.group."+e,o)},s.setCurrentTab=function(e){e.data&&e.data.selectedTab&&(s.currentTab=e.data.selectedTab)},s.setCurrentTab(a.current),s.listener=t.$on("$stateChangeSuccess",function(e,t){s.setCurrentTab(t)}),e.$on("$destroy",function(){s.listener()})}e.$inject=["$scope","$rootScope","$mdDialog","$state","$stateParams","groupService","userService","group"],angular.module("geldzakenAngular").controller("GroupMainController",e)}(),function(){"use strict";function e(e,t){var n=this;n.group={name:""},n.create=function(){var a=new t.Group({name:n.group.name});a.$save(function(t){e.go("private.group.members",{id:t.id})})}}e.$inject=["$state","groupService"],angular.module("geldzakenAngular").controller("CreateGroupController",e)}(),function(){"use strict";function e(e,t,n,a,o){var i=this;i.email=n.email,i.newPassword="",i.token=n.token,i.reset=function(){e.forgotPassword(i.email,function(){a.show(a.alert().clickOutsideToClose(!0).title(o("You've got mail!")).textContent(o("Use the link in the verification mail we sent to reset your password.")).ariaLabel("Reset Confirmation").ok(o("Okay!")))})},i.setPassword=function(){if(!i.newPassword)throw new Error("Wachtwoord mag niet leeg zijn.");e.setNewPassword(i.email,i.newPassword,i.token,function(){a.show(a.alert().clickOutsideToClose(!0).title(o("Password is set!")).textContent(o("You can now log in.")).ariaLabel("Reset Confirmation").ok(o("Okay!"))),t.go("public.login",{email:i.email})})}}e.$inject=["userService","$state","$stateParams","$mdDialog","localize"],angular.module("geldzakenAngular").controller("ForgotPasswordController",e)}(),function(){"use strict";function e(e,t,n){var a=this;a.working=!0,a.status=n("Looking for credentials.."),t.processSavedCredentials(function(t){t?a.status=n("Validating your credentials with our server.."):(a.working=!1,a.status=n("No valid credentials found."),e.go("public.login"))})}e.$inject=["$state","authentication","localize"],angular.module("geldzakenAngular").controller("EntryController",e)}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("../moment")):"function"==typeof define&&define.amd?define(["moment"],t):t(e.moment)}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return/-MMM-/.test(a)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return a}),function(){"use strict";function e(e,t,n,a){n.listenForStateChange(),a.changeLocale("nl"),t.i18n={More:"Meer",Overview:"Overzicht",Groups:"Groepen","Log out":"Log uit","Log in":"Log in","Back to log in":"Terug naar inloggen","Sign up":"Registreer",Settings:"Instellingen","Reset password":"Reset wachtwoord","Settings were saved!":"Instelligen opgeslagen!","Can't save settings!":"Instellingen konden niet worden opgeslagen.","Can't delete account!":"Kon account niet verwijderen.",Payments:"Betalingen",Members:"Leden",Cancel:"Annuleer","Are you sure?":"Weet je het zeker?","Settling a group cannot be reverted.":"Afrekenen kan niet teruggedraaid worden.",Settle:"Afrekenen","Settle group":"Reken groep af","Group was settled!":"Groep is afgerekend!","Create a group":"Nieuwe groep","Create group":"Maak groep","Leave group":"Verlaat groep","Left group!":"Groep verlaten!",Authenticating:"Identiteit controleren","Validating your credentials with our server..":"Je gegevens controleren bij de server..","Could not leave group.":"Kon groep niet verlaten.","Add member":"Nieuw lid","Member was added!":"Lid is toegevoegd!","But won't be visible until he/she confirms.":"Maar verschijnt pas als hij/zij accepteert.",Add:"Voeg toe","Add payment":"Nieuwe betaling",Amount:"Bedrag","Payed by":"Betaald door","Member since":"Lid sinds",Title:"Titel",Everyone:"Iedereen",Reset:"Reset","Payment was added!":"Betaling toegevoegd!","This group doesn't have any payments yet.":"Er zijn nog geen betalingen gedaan.","Delete payment":"Verwijder betaling",Delete:"Verwijder","Payed for":"Betaald voor","There are no payments made in this group.":"Er zijn geen betalingen gedaan in deze groep.","Could not settle.":"Kon niet afrekenen.","Signed up!":"Geregistreerd!","You can now log in.":"Je kunt nu inloggen.","Okay!":"Oke!",Account:"Account","Bankaccount number":"Bankrekening nummer","Email address":"E-mailadres",Password:"Wachtwoord","New password":"Nieuw wachtwoord",Save:"Opslaan","Delete account":"Verwijder account","This is required.":"Dit is verplicht.","I already have an account":"Ik heb al een account","I don't have an account":"Ik heb geen account","Make sure your email address is valid.":"Zorg ervoor dat je e-mailadres klopt.","We only show this to your group members.":"We delen dit alleen met groepsgenoten.","When you settle a group, we calculate the transactions needed to get all balances to zero and mail them to all participants.":"Als je een groep afrekent, berekenen wij welke transacties nodig zijn om ieders balans weer op 0 te zetten. Alle leden krijgen hiervan een overzicht gemaild.",Name:"Naam",Balance:"Stand",Confirm:"Bevestig",Reject:"Negeer","Your groups":"Jouw groepen","New groups":"Nieuwe groepen","Creation date":"Opricht datum",Created:"Gemaakt","Last updated":"Laatst gewijzigd","I forgot my password":"Wachtwoord vergeten","You've got mail!":"Je hebt mail!","Use the link in the verification mail we sent to reset your password.":"Gebruik je link in het mailtje om je wachtwoord te resetten.","Forgot password":"Wachtwoord vergeten","{num} members":function(e){return e.num+" leden"},"You are not in any groups yet! When you are, they will appear here.":"Je hebt op dit moment nog geen groepen. Zodra dit verandert, verschijnen ze hier."}}e.$inject=["$rootScope","$window","authorization","amMoment"],angular.module("geldzakenAngular").run(e)}(),function(){"use strict";function e(e,t){e.state("public",{templateUrl:"app/public/public.html",controller:"PublicController as vm",anonymous:!0}).state("public.entry",{url:"/entry",templateUrl:"app/entry/entry.html",controller:"EntryController as vm",resolve:{$title:["localize",function(e){return e("Authenticating")}]}}).state("public.login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController as vm",params:{email:""},resolve:{$title:["localize",function(e){return e("Log in")}]}}).state("public.signup",{url:"/signup",templateUrl:"app/signup/signup.html",controller:"SignupController as vm",resolve:{$title:["localize",function(e){return e("Sign up")}]}}).state("public.forgotpassword",{url:"/forgot-password/:email/:token",templateUrl:"app/forgotpassword/forgotpassword.html",controller:"ForgotPasswordController as vm",resolve:{$title:["localize",function(e){return e("Forgot password")}]}}).state("public.logout",{url:"/logout",templateUrl:"app/logout/logout.html",controller:"LogoutController as ctrl",resolve:{$title:["localize",function(e){return e("Log out")}]}}).state("private",{templateUrl:"app/private/private.html",controller:"PrivateController as vm",authorized:!0}).state("private.main",{url:"/overview",templateUrl:"app/main/main.html",controller:"MainController as vm",authorized:!0,resolve:{groups:["$stateParams","groupService",function(e,t){return t.Group.query().$promise}],$title:["localize",function(e){return e("Overview")}]}}).state("private.settings",{url:"/settings",templateUrl:"app/settings/settings.html",controller:"SettingsController as vm",authorized:!0,resolve:{$title:["localize",function(e){return e("Settings")}]}}).state("private.createGroup",{url:"/groups/new",templateUrl:"app/group/createGroup.html",controller:"CreateGroupController as vm",authorized:!0,resolve:{$title:["localize",function(e){return e("Create a group")}]}}).state("private.group",{"abstract":!0,url:"/groups/:id",templateUrl:"app/group/main.html",controller:"GroupMainController as vm",authorized:!0,resolve:{group:["$stateParams","groupService",function(e,t){return t.Group.get({group:e.id}).$promise}],$title:["group",function(e){return e.name}]}}).state("private.group.payments",{url:"/payments",templateUrl:"app/group/payments/payments.html",controller:"PaymentsController as vm",authorized:!0,data:{selectedTab:0}}).state("private.group.members",{url:"/members",templateUrl:"app/group/members/members.html",controller:"MembersController as ctrl",authorized:!0,data:{selectedTab:1}}).state("private.group.more",{url:"/more",templateUrl:"app/group/more/more.html",controller:"MoreController as vm",authorized:!0,data:{selectedTab:2}}),t.otherwise("/entry")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("geldzakenAngular").config(e)}(),function(){"use strict";angular.module("geldzakenAngular").constant("api",{"public":"https://geldzaken.herokuapp.com","private":"https://geldzaken.herokuapp.com/private"})}(),function(){"use strict";function e(e,t,n,a,o){a.theme("default").primaryPalette("indigo").accentPalette("grey"),e.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){return function(e){t.get("errorHandler").handle(e)}}]),t.interceptors.push("httpInterceptor"),n.debugEnabled(!0),o.setPrefix("geldzaken"),o.setStorageCookie(100,"/")}e.$inject=["$provide","$httpProvider","$logProvider","$mdThemingProvider","localStorageServiceProvider"],angular.module("geldzakenAngular").config(e)}(),angular.module("geldzakenAngular").run(["$templateCache",function(e){e.put("app/entry/entry.html",'<br><br><br><br><br><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" ng-if="vm.working"></md-progress-circular></div><br><small style="display:block;text-align:center;">{{ vm.status }}</small>'),e.put("app/forgotpassword/forgotpassword.html",'<form layout-gt-sm="column" layout-padding="" name="forgotPasswordForm" ng-if="!vm.token"><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Email address</label> <input required="" type="email" name="email" ng-model="vm.email" autofocus=""><div ng-messages="forgotPasswordForm.email.$error"><div ng-message="required"><span localize="">This is required.</span></div><div ng-message="email"><span localize="">Make sure your email address is valid.</span></div></div></md-input-container><div layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.reset()"><span localize="">Reset password</span></md-button><md-button ui-sref="public.login"><span localize="">Back to log in</span></md-button></div></md-content></form><form layout-gt-sm="column" layout-padding="" name="newPasswordForm" ng-if="vm.token"><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Email address</label> <input disabled="" type="email" name="email" ng-model="vm.email"></md-input-container><md-input-container class="md-block"><label localize="">New password</label> <input ng-model="vm.newPassword" name="newPassword" type="password" autofocus=""><div ng-messages="newPasswordForm.newPassword.$error"><div ng-message="required"><span localize="">This is required.</span></div></div></md-input-container><div layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.setPassword()"><span localize="">Confirm</span></md-button></div></md-content></form>'),e.put("app/group/createGroup.html",'<form layout-gt-sm="column" layout-padding=""><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Name</label> <input type="text" ng-model="vm.group.name" autofocus=""></md-input-container><div class="bottom-sheet-demo inset" layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.create()"><span localize="">Create group</span></md-button></div></md-content></form>'),e.put("app/group/main.html",'<md-tabs md-dynamic-height="" md-border-bottom="" class="md-primary" md-selected="vm.currentTab"><md-tab ng-click="vm.go(\'payments\')"><span localize="">Payments</span></md-tab><md-tab ng-click="vm.go(\'members\')"><span localize="">Members</span></md-tab><md-tab ng-click="vm.go(\'more\')"><span localize="">More</span></md-tab></md-tabs><ui-view></ui-view>'),e.put("app/login/login.html",'<form layout-gt-sm="column" layout-padding="" name="loginForm"><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Email address</label> <input required="" type="email" name="email" ng-model="vm.user.email" autofocus=""><div ng-messages="loginForm.email.$error"><div ng-message="required"><span localize="">This is required.</span></div><div ng-message="email"><span localize="">Make sure your email address is valid.</span></div></div></md-input-container><md-input-container class="md-block"><label localize="">Password</label> <input ng-model="vm.user.password" name="password" type="password"><div ng-messages="loginForm.password.$error"><div ng-message="required"><span localizethis="" is="" required.<="" span=""></span></div></div></md-input-container><div class="bottom-sheet-demo inset" layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.login()"><span localize="">Log in</span></md-button><md-button ui-sref="public.forgotpassword"><span localize="">I forgot my password</span></md-button><md-button ui-sref="public.signup"><span localize="">I don\'t have an account</span></md-button></div></md-content></form>'),e.put("app/logout/logout.html",""),e.put("app/main/main.html",'<md-content class="md-padding"><md-subheader ng-if="vm.inactiveGroups.length"><span localize="">New groups</span></md-subheader><md-card class="alert" ng-repeat="group in vm.inactiveGroups | orderBy: membership.createdAt"><md-card-title><md-card-title-text><span class="md-headline">{{::group.name}}</span> <span class="md-subhead" am-time-ago="group.membership.createdAt"></span></md-card-title-text></md-card-title><md-card-actions layout="row" layout-align="end center"><md-button ng-click="vm.reject(group)"><span localize="">Reject</span></md-button><md-button ng-click="vm.confirm(group)"><span localize="">Confirm</span></md-button></md-card-actions></md-card><md-subheader ng-if="vm.inactiveGroups.length"><span localize="">Your groups</span></md-subheader><div layout="row" ng-if="vm.groups.length"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="vm.openMenu($mdOpenMenu, $event)"><md-icon md-menu-origin="" class="material-icons">sort</md-icon></md-button><md-menu-content width="4" class="with-radio"><md-radio-group ng-model="vm.sorting"><md-menu-item><md-radio-button ng-click="" value="name" class="md-primary"><span localize="">Name</span></md-radio-button></md-menu-item><md-menu-item><md-radio-button ng-click="" value="-balance" class="md-primary"><span localize="">Balance</span></md-radio-button></md-menu-item><md-menu-item><md-radio-button ng-click="" value="createdAt" class="md-primary"><span localize="">Creation date</span></md-radio-button></md-menu-item></md-radio-group></md-menu-content></md-menu><span flex=""></span></div><md-card class="alert" ng-if="!vm.groups.length"><md-card-content><p localize="">You are not in any groups yet! When you are, they will appear here.</p></md-card-content></md-card><md-list><md-list-item ng-click="vm.show(group)" class="md-2-line" ng-repeat="group in vm.groups | orderBy: vm.sorting" ng-if="group.membership.active"><div class="md-list-item-text"><div layout="row"><h3>{{ group.name }}</h3><span flex=""></span><p ng-class="{ \'red\': group.balance < 0, \'green\': group.balance > 0 }">&euro; {{ group.balance }}</p></div><p localize="" data-num="{{group.members.length}}">{num} members</p></div></md-list-item></md-list></md-content>'),e.put("app/private/private.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 sidenav" md-component-id="sidenav"><md-content class="md-accent"><md-divider></md-divider><md-subheader><span localize="">Groups</span></md-subheader><md-menu-item><md-button ui-sref="private.main"><md-icon class="material-icons" md-menu-align-target="">dashboard</md-icon><span localize="">Overview</span></md-button></md-menu-item><md-menu-item ui-sref="private.createGroup"><md-button><md-icon class="material-icons" md-menu-align-target="">add</md-icon><span localize="">Create a group</span></md-button></md-menu-item><md-divider></md-divider><md-subheader localize="">Account</md-subheader><md-menu-item ui-sref="private.settings"><md-button><md-icon class="material-icons" md-menu-align-target="">settings</md-icon><span localize="">Settings</span></md-button></md-menu-item><md-menu-item><md-button href="#/logout"><md-icon class="material-icons" md-menu-align-target="">exit_to_app</md-icon><span localize="">Log out</span></md-button></md-menu-item></md-content></md-sidenav><div layout="column"><toolbar></toolbar><md-content ui-view=""></md-content></div>'),
e.put("app/public/public.html",'<div layout="column"><toolbar></toolbar><md-content ui-view=""></md-content></div>'),e.put("app/settings/settings.html",'<form layout-gt-sm="column" layout-padding="" name="settingsForm"><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Name</label> <input type="text" required="" name="name" ng-model="vm.settings.name"><div ng-messages="settingsForm.name.$error"><div ng-message="required" localize="">This is required.</div></div></md-input-container><md-input-container class="md-block"><label localize="">Bankaccount number</label> <input type="text" required="" name="bankaccount" ng-model="vm.settings.bankAccount"><div ng-messages="settingsForm.bankaccount.$error" md-auto-hide="false"><div ng-message="required" localize="">You can\'t leave this empty.</div></div></md-input-container><md-input-container class="md-block"><label localize="">Email address</label> <input type="email" disabled="" name="email" ng-model="vm.settings.email"></md-input-container><md-input-container class="md-block"><label localize="">New password</label> <input type="password" name="password" ng-model="vm.newPassword"></md-input-container><div layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.save()"><span localize="">Save</span></md-button></div><div layout="column"><md-button type="submit" class="md-primary md-raised md-warn" ng-click="vm.delete()"><span localize="">Delete account</span></md-button></div></md-content></form>'),e.put("app/signup/signup.html",'<form layout-gt-sm="column" layout-padding="" name="signupForm"><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Email address</label> <input type="email" required="" name="email" ng-model="vm.user.email"><div ng-messages="signupForm.email.$error"><div ng-message="required"><span localize="">This is required.</span></div><div ng-message="email"><span localize="">Make sure your email address is valid.</span></div></div></md-input-container><md-input-container class="md-block"><label localize="">Password</label> <input ng-model="vm.user.password" required="" name="password" type="password"><div ng-messages="signupForm.password.$error"><div ng-message="required"><span localize="">This is required.</span></div></div></md-input-container><md-input-container class="md-block"><label localize="">Name</label> <input type="text" required="" name="name" ng-model="vm.user.name"><div ng-messages="signupForm.name.$error"><div ng-message="required"><span localize="">This is required.</span></div></div></md-input-container><md-input-container class="md-block"><label localize="">Bankaccount number</label> <input type="text" required="" name="bankAccount" ng-model="vm.user.bankAccount"><div ng-messages="signupForm.bankAccount.$error" md-auto-hide="false"><div ng-message="required"><span localize="">We only show this to your group members.</span></div></div></md-input-container><div layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.signup()"><span localize="">Sign up</span></md-button><md-button ui-sref="public.login"><span localize="">I already have an account</span></md-button></div></md-content></form>'),e.put("app/components/loadingIndicator/loadingIndicator.html",'<span ng-if="vm.show"><md-progress-circular md-mode="indeterminate" class="md-accent"></md-progress-circular></span>'),e.put("app/components/toolbar/toolbar.html",'<md-toolbar class="md-primary"><div class="md-toolbar-tools"><md-button class="md-icon-button" ng-click="vm.toggleSidenav()" ng-show="vm.authorized()"><md-icon class="material-icons">menu</md-icon></md-button><h2><span ng-bind="$title || \'Geldzaken\'"></span></h2><span flex=""></span><loading-indicator></loading-indicator></div></md-toolbar>'),e.put("app/group/members/inviteMember.html",'<md-dialog aria-label="Invite someone" ng-cloak=""><form><md-toolbar><div class="md-toolbar-tools"><md-icon class="material-icons" ng-click="vm.cancel()">close</md-icon><span flex=""></span><md-button class="md-accent" ng-click="vm.invite()"><span localize="">Add</span></md-button></div></md-toolbar><md-dialog-content><md-content class="md-padding autocomplete" layout="column"><form name="inviteForm"><md-input-container class="md-block"><label localize="">Email address</label> <input type="email" name="description" ng-model="vm.email" autofocus=""></md-input-container></form></md-content></md-dialog-content></form></md-dialog>'),e.put("app/group/members/members.html",'<md-content class="md-padding"><div layout="row"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="ctrl.openMenu($mdOpenMenu, $event)"><md-icon md-menu-origin="" class="material-icons">sort</md-icon></md-button><md-menu-content width="4" class="with-radio"><md-radio-group ng-model="ctrl.sorting"><md-menu-item><md-radio-button value="name" ng-click="" class="md-primary"><span localize="">Name</span></md-radio-button></md-menu-item><md-menu-item><md-radio-button value="-balance" ng-click="" class="md-primary"><span localize="">Balance</span></md-radio-button></md-menu-item><md-menu-item><md-radio-button value="-membership.updatedAt" ng-click="" class="md-primary"><span localize="">Member since</span></md-radio-button></md-menu-item></md-radio-group></md-menu-content></md-menu><span flex=""></span><md-button ng-click="ctrl.showInviteMember($event)"><span localize="">Add member</span></md-button></div><md-list><md-list-item ng-click="" class="md-3-line" ng-repeat="member in ctrl.group.members | orderBy: ctrl.sorting"><div class="md-list-item-text"><div layout="row"><h3>{{ member.name }}</h3><span flex=""></span><p ng-class="{ \'red\': member.balance < 0, \'green\': member.balance > 0 }">&euro; {{ member.balance | number: 2}}</p></div><p>{{ member.email }}</p><p><small><span localize="">Member since</span> <span am-time-ago="member.membership.updatedAt"></span></small></p></div></md-list-item></md-list></md-content>'),e.put("app/group/more/more.html",'<md-subheader class="md-primary"><span localize="">Settle group</span></md-subheader><md-content layout-padding=""><p localize="">When you settle a group, we calculate the transactions needed to get all balances to zero and mail them to all participants.</p><div layout="column"><md-button ng-click="vm.settle($event)" class="md-primary md-raised"><span localize="" ng-if="!vm.settled">Settle group</span><md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: 0 auto;" ng-if="vm.settled"></md-progress-circular></md-button></div></md-content><md-subheader class="md-primary"><span localize="">Settings</span></md-subheader><md-content layout-padding=""><form layout-gt-sm="column" name="settingsForm"><md-content class="autoScroll"><md-input-container class="md-block"><label localize="">Name</label> <input type="text" required="" name="name" ng-model="vm.group.name"><div ng-messages="settingsForm.name.$error"><div ng-message="required"><span localize="">This is required.</span></div></div></md-input-container><div layout="column"><md-button type="submit" class="md-primary md-raised" ng-click="vm.save()"><span localize="">Save</span></md-button></div><div layout="column"><md-button type="submit" class="md-primary md-raised md-warn" ng-click="vm.leave()"><span localize="">Leave group</span></md-button></div><br><br><p><small><span localize="">Created</span> <span am-time-ago="vm.group.createdAt"></span></small><br><small><span localize="">Last updated</span> <span am-time-ago="vm.group.updatedAt"></span></small><br></p></md-content></form></md-content>'),e.put("app/group/payments/createPayment.html",'<md-dialog aria-label="Add payment" ng-cloak=""><form><md-toolbar><div class="md-toolbar-tools"><md-icon class="material-icons" ng-click="vm.cancel()">close</md-icon><span flex=""></span><md-button class="md-accent" ng-click="vm.create()"><span localize="">Add</span></md-button></div></md-toolbar><md-dialog-content><md-content class="md-padding autocomplete" layout="column"><form name="paymentForm"><md-input-container class="md-block"><label localize="">Title</label> <input type="text" name="description" ng-model="vm.payment.description" md-autofocus=""></md-input-container><md-input-container><label localize="">Payed by</label><md-select ng-model="vm.payment.payedBy"><md-option ng-repeat="participant in vm.participants" value="{{::participant.email}}">{{::participant.name}}</md-option></md-select></md-input-container><md-input-container><label localize="">Amount</label> <input type="number" step="0.01" name="amount" ng-model="vm.payment.amount"></md-input-container><div layout="row"><md-button ng-click="vm.increaseAllParticipants()" class="md-raised md-primary" flex="50"><span localize="">Everyone</span> +1</md-button><md-button ng-click="vm.resetAllParticipants()" class="md-raised" flex="50"><span localize="">Reset</span></md-button></div><md-list><md-list-item ng-repeat="participant in vm.participants" ng-click="vm.increaseParticipant(participant)" class="md-with-secondary md-2-line" ng-class="{ \'not-active\': participant.weight == 0 }"><div class="md-list-item-text"><h3>{{::participant.name}}</h3><p>{{participant.weight}}x</p></div><md-icon class="material-icons md-secondary" ng-click="vm.decreaseParticipant(participant)" aria-label="Decrease weight">remove</md-icon></md-list-item></md-list></form></md-content></md-dialog-content></form></md-dialog>'),e.put("app/group/payments/payments.html",'<md-content class="md-padding"><div layout="row"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="vm.openMenu($mdOpenMenu, $event)"><md-icon md-menu-origin="" class="material-icons">sort</md-icon></md-button><md-menu-content width="4" class="with-radio"><md-radio-group ng-model="vm.sorting"><md-menu-item><md-radio-button value="payedBy.name" ng-click="" class="md-primary"><span localize="">Payed by</span></md-radio-button></md-menu-item><md-menu-item><md-radio-button value="-amount" ng-click="" class="md-primary"><span localize="">Amount</span></md-radio-button></md-menu-item><md-menu-item><md-radio-button value="-createdAt" ng-click="" class="md-primary"><span localize="">Creation date</span></md-radio-button></md-menu-item></md-radio-group></md-menu-content></md-menu><span flex=""></span><md-button ng-click="vm.showCreatePayment($event)"><span localize="">Add payment</span></md-button></div><md-list><md-list-item ng-click="vm.showUpdatePayment($event, payment)" class="md-3-line md-payment" ng-repeat="payment in vm.group.payments | orderBy: vm.sorting"><div></div><div class="md-list-item-text"><div layout="row"><h3>&euro; {{::payment.amount | number: 2}}</h3><span flex=""></span><p am-time-ago="payment.createdAt"></p></div><p>{{::payment.payedBy.name}} - {{::payment.description}}</p><p><span localize="">Payed for</span> {{::vm.participants_to_string(payment.participants)}}</p></div></md-list-item></md-list><md-card class="alert" ng-if="!vm.group.payments.length"><md-card-content><p localize="">There are no payments made in this group.</p></md-card-content></md-card></md-content>'),e.put("app/group/payments/updatePayment.html",'<md-dialog aria-label="Update payment" ng-cloak=""><form><md-toolbar><div class="md-toolbar-tools"><md-icon class="material-icons" ng-click="vm.cancel()">close</md-icon><span flex=""></span><md-button class="md-accent" ng-click="vm.save()"><span localize="">Save</span></md-button></div></md-toolbar><md-dialog-content><md-content class="md-padding autocomplete" layout="column"><form name="paymentForm"><md-input-container class="md-block"><label localize="">Title</label> <input type="text" name="description" ng-model="vm.payment.description" md-autofocus=""></md-input-container><md-input-container><label localize="">Payed by</label><md-select ng-model="vm.payment.payedBy"><md-option ng-repeat="participant in vm.participants" value="{{::participant.email}}">{{::participant.name}}</md-option></md-select></md-input-container><md-input-container><label localize="">Amount</label> <input type="number" step="0.01" name="amount" ng-model="vm.payment.amount"></md-input-container><div layout="row"><md-button ng-click="vm.increaseAllParticipants()" class="md-raised md-primary" flex="50"><span localize="">Everyone</span> +1</md-button><md-button ng-click="vm.resetAllParticipants()" class="md-raised" flex="50"><span localize="">Reset</span></md-button></div><md-list><md-list-item ng-repeat="participant in vm.participants" ng-click="vm.increaseParticipant(participant)" class="md-with-secondary md-2-line" ng-class="{ \'not-active\': participant.weight == 0 }"><div class="md-list-item-text"><h3>{{::participant.name}}</h3><p>{{participant.weight}}x</p></div><md-icon class="material-icons md-secondary" ng-click="vm.decreaseParticipant(participant)" aria-label="Decrease weight">remove</md-icon></md-list-item></md-list></form></md-content></md-dialog-content></form></md-dialog>')}]);
//# sourceMappingURL=../maps/scripts/app-8f656baee3.js.map
